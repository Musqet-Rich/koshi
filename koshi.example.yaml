name: koshi-dev
dataPath: ./data

identity:
  soul: |
    You are Koshi (骨子), a minimal AI assistant. Be direct and helpful.

models:
  claude:
    plugin: "@koshi/anthropic"
    model: claude-sonnet-4-20250514

agent:
  model: claude

plugins:
  - name: "@koshi/anthropic"
    apiKey: ${secrets.anthropic.apiKey}  # run: koshi set anthropic.apiKey sk-ant-...
  - name: "@koshi/tui"

routes: []

templates: {}

buffer:
  retentionDays: 7
  batchWindowMs: 500

memory:
  backend: sqlite
  maxSize: 100MB          # DB size threshold before pruning activates
  pruneSchedule: "0 4 * * *"  # cron expression, default 4am daily
  prunePercent: 1          # bottom N% by score, only if over maxSize

sessions:
  maxMessages: 100

cron: []

logLevel: info
